# Azure Sentinel SIEM Implementation
<br>
This project showcases the successful deployment of Microsoft Sentinel, a powerful SIEM solution, in the Azure Cloud environment. Leveraging custom analytics rules using KQL, it enhances security event detection and enables thorough incident investigations. The project covers aspects like user entity behavior analysis, watchlist creation, scheduled rule configuration and exploring the implementation workflow for a comprehensive understanding of Azure Sentinel's capabilities.
<br>
<br>

### Prerequisites:
Before starting with this project, make sure you have the following:
- Azure Account:
Create or use an existing Azure Cloud account.
- Microsoft Sentinel:
 Obtain the necessary licenses for Microsoft Sentinel.
- Azure Sentinel Workspace:
 Set up an Azure Sentinel workspace following the official documentation.
- Access Permissions:
 Ensure your Azure account has the required permissions for resource deployment.

<br>

### Configuration Snapshots:

#### Custom Deployment
- Execute a customized deployment of Microsoft Sentinel within the Azure Cloud environment.
- Github Repository for Deployment: (https://github.com/Azure/Azure-Sentinel/tree/master/Tools/Sentinel-All-In-One)

![Imgur](https://i.imgur.com/my8ctDy.jpg)

<br>


#### Diagnostic Settings
- Configure diagnostic settings to capture relevant data for analysis within Azure Sentinel.

 ![Imgur](https://i.imgur.com/KagDPMO.jpg)
 
 <br>
 

#### Sentinel  Overview
- Showcases the overview of Microsoft Sentinel, illustrating a holistic view of security data.

![Imgur](https://i.imgur.com/JWpXKcW.jpg)

<br>

#### Sentinel Logs
- Highlight the logs section in Azure Sentinel, emphasizing the recorded security events.

![Imgur](https://i.imgur.com/tJcSgEz.jpg)

<br>


#### Entity Behaviour Configuration
- Setting up configurations for monitoring and analyzing user entity behavior within the environment.

![Imgur](https://i.imgur.com/yAa35hc.jpg)

<br>


#### Watchlist creation
- Create and configure watchlists for tracking specific entities.

![Imgur](https://i.imgur.com/5g0Pgqq.jpg)

<br>


#### Analytics Rule
- Implement custom analytics rules using KQL to enhance security event detection.

KQL Rule:
```bash
let TorNodes = (_GetWatchlist('Tor-ip-addresses') | project TorIP = IpAddress);
 SigninLogs
 | where IPAddress in (TorNodes)
 | where ResultType != 50126
 | project
    TimeGenerated,
    Location,
    IPAddress,
    UserDisplayName,
    UserPrincipalName,
    UserId,
    LocationDetails,
    RiskState,
    RiskLevelDuringSignIn,
    AuthenticationRequirement,
    ClientAppUsed,
    ConditionalAccessPolicies
```

<br>

![Imgur](https://i.imgur.com/6agcuGf.jpg)
![Imgur](https://i.imgur.com/xEjUhgO.jpg)

<br>

#### Creating New User
- Create a new user account within the Azure environment.

![Imgur](https://i.imgur.com/tLKUvh7.jpg)

<br>


#### Assigning role to new user
- Assign roles to a newly created user account.

![Imgur](https://i.imgur.com/AlgOglV.jpg)

<br>


#### New user login
- Log into the new user settings to simulate user activity for analysis.

![Imgur](https://i.imgur.com/5lHhmus.jpg)

<br>


#### Delete Diagnostic Setting
- Deleting diagnostic settings for user.

![Imgur](https://i.imgur.com/dRAlQAl.jpg)

<br>


#### Creating VM
- Creating a virtual machine in the Azure environment.

![Imgur](https://i.imgur.com/n6v7cJJ.jpg)
![Imgur](https://i.imgur.com/Np5GgKc.jpg)

<br>


#### Microsoft Sentinel Overview
- Displaying the Sentinel overview for a comprehensive understanding.

![Imgur](https://i.imgur.com/5kqDpAA.jpg)

<br>


#### Captured Incidents
- View and analyze incidents captured by Azure Sentinel during the investigation.

![Imgur](https://i.imgur.com/baLriCO.jpg)

<br>


#### Investigating Incident
- Investigate and analyze captured incidents.

![Imgur](https://i.imgur.com/mfJuygg.jpg)

<br>


#### Logs
- Display logs generated by Azure Sentinel during the monitoring and investigation process.

![Imgur](https://i.imgur.com/HHimdjo.jpg)

<br>


#### Closing Incidents
- Take actions and close incidents based on the investigation findings.

![Imgur](https://i.imgur.com/aYmaDBs.jpg)

<br>


#### AbuseIPDB
![Imgur](https://i.imgur.com/AnQSAeT.jpg)










